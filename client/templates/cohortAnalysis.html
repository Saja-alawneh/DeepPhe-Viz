<div class="header">
	<span class="logo">DeepPhe-Viz | </span> <span class="current_patient">Cohort Analysis</span>
	</div>

	<div class="main">

	<!-- Filters -->
		<div class="filters clearfix">
		<div id="stage_patient_count" class="cohort_chart"></div>
		<div id="stage_patient_age" class="cohort_chart"></div>
		<div id="biomarkers_overview"></div>
    <div id="patients_with_biomarkers"></div>

		
    <button id="myBtn" onclick="print()">Submit</button>
    <div id="myModal" class="modal">
     <div class="modal-content" id="Task" action= "/" method ="POST">
      <span class="close">&times;</span>
      <textarea id="msg" name="msg" placeholder="Write your answer ..." style="height:100px"></textarea>
      
      <input type="button" id="next" onclick="location.href=location.protocol+'//'+ location.host;"
      value="Next Task" />
    
    </div>
      </div>
    </div>
		
	</div>


	<!-- Results -->
	<div class="results clearfix">
		<div id="results_title"></div>
		
		
		
		<div id="HeatMap" class="relative"> </div>
   <!--<div id="HeatMap1" class="relative"> </div>-->
    <div id ="sankey" class="relative"></div>
	 
		<div id="documents" class="relative"></div>
    <div id="diagnosis" class="relative"></div>
		<div id="patients" class="relative"></div>
    

	</div>
<script data-require="d3@4.0.0" data-semver="4.0.0" src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://code.jquery.com/jquery-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.js"></script>

	<script type="text/javascript">
	const baseUri = '{{baseUri}}';

showCohort();
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

let print= () => { console.log('Submit task')}



  $('#next').click(function() {
  console.log('submit clicked')
  var data = $('#msg').val()
  data.toString(data)
  data = data.replace(/\n/g, " ")
 console.log(data)

  $.ajax({
    type: "POST",
    url: baseUri + '/Task/' + data,
    data: $('#msg').val(),
    });
}) ;



</script>



<style>
#myBtn
{
	
  float: right;
	background-color: #D66061; 
  border: none;
	color: white;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  cursor: pointer;
  font-size:15px;
  border-radius: 12px; 
}

.modal {
  display: none; /* Hidden by default */
  position: absolute; /* Stay in place */
  z-index: 10; /* Sit on top */
  padding-top: 200px;
  padding-left: 50px;
   /* Location of the box */
  left: 0;
  top: 0;
  width: 40%; /* Full width */
  height: 40%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0); /* Black w/ opacity */
}

/* Modal Content */
.modal-header{
  cursor: move;
}
.modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 20px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

{
  box-sizing: border-box;
 }
  div 
  {
  	padding: 10px;
  	overflow: hidden;
   }
   input[type=text], textarea, select 
  {
      font: 17px Calibri;
      width: 70%;
      float: left;
       padding: 12px;
       border: 1px solid #ccc;
       border-radius: 4px;
       margin-bottom: 20px;
   }
input[type=button]{

      font: 10px ;
      width: auto;
      height: auto;
      position: relative;
      float: right;
      margin-left: 20px;
      cursor: pointer;
      padding: 10px;
      position:relative;
			background-color: #667292; 
  			border: none;
			color: white;
  			text-align: center;
  			text-decoration: none;
  	display: inline-block;
  	cursor: pointer;
  	font-size:15px;
  	border-radius: 12px; 
        }
</style>